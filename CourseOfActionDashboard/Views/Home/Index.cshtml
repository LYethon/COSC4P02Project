@using Microsoft.AspNetCore.Http;
@using Newtonsoft.Json;
@model Student
@{
    ViewData["Title"] = "Home Page";
    var student = ViewData["Student"] as Student;
}

<header>
    <nav class="navbar navbar-custom navbar-expand-md navbar-toggleable-sm bg-faded box-shadow mb-3">
        <div class="container">
            <a class="navbar-brand">
                <img src="https://brocku.ca/brand/wp-content/uploads/sites/sites/176/Brocku-logo-screen.png?x44039" width="125" height="70">
            </a>
            <a class="navbar-brand text-white font-weight-bold" asp-area="" asp-controller="Home" asp-action="Index"> CourseOfActionDashboard</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="navbar-collapse collapse d-sm-inline-flex flex-sm-row-reverse">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link text-white" asp-area="" asp-controller="Home" asp-action="LoginPage">Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>
<body>
    <div class="container">
        <main role="main" class="pb-3">
            @{ if (student != null)
                {
                    <h1>Welcome @student.FullName()</h1>
                    <h1>Email: @student.Email</h1>
                }
            }
            <div class="row">
                <div class="container-fluid" style="">
                    <!--Progress Bar Legend-->
                    <div class="legendarea" style="padding-top:3%;">
                        <table style="width:400px;">
                            <tc>
                                <td style="background-color:#00cc00;width:30px;border-radius:5px;">&nbsp;</td>
                                <td>  Completed  </td>
                            </tc>
                            <tc>
                                <td style="background-color:#ffcc00;width:30px;border-radius:5px;">&nbsp;</td>
                                <td>  Planned  </td>
                            </tc>
                            <tc>
                                <td style="background-color:lightcoral;width:30px;border-radius:5px;">&nbsp;</td>
                                <td>  Required  </td>
                            </tc>
                        </table>
                        <button onclick="updateProgress()">Refresh Stats (test button)</button>
                    </div>

                    <!--Progress Bar-->
                    <div class="progressarea" style="padding-top:2.5%;">
                        <div class="progress" style="background-color:lightcoral">
                            <div class="progress-bar-striped bg-success" id="percentCompleted" role="progressbar" style="width: 0%" aria-valuemin="0" aria-valuemax="100"></div><!--aria-valuenow="10"-->
                            <div class="progress-bar-striped bg-warning" id="percentPlanned" role="progressbar" style="width: 0%" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>

                    <!--Credits Statistics-->
                    <div class="statsarea1" style="padding:2.5%;">
                        <div class="statsarea2" style="background-color:lightgrey;border-radius:5px;">
                            <div class="row">
                                <div class="col" style="border:solid;border-radius:5px;background-color:lightgray;">
                                    <table style="width:100%;margin:auto;">
                                        <tr style="font-weight:bold;">
                                            <tc><td>Credits</td></tc>
                                            <tc><td>Planned</td></tc>
                                            <tc><td>Completed</td></tc>
                                        </tr>
                                        <tr>

                                            <tc><td style="">Overall</td></tc>
                                            <tc><td id="overPlanned" style="">0/0</td></tc>
                                            <tc><td id="overCompleted" style="">0/0</td></tc>
                                        </tr>
                                        <tr>
                                            <tc><td style="">Major</td></tc>
                                            <tc><td id="majorPlanned" style="">0/0</td></tc>
                                            <tc><td id="majorCompleted" style="">0/0</td></tc>
                                        </tr>
                                        <tr>
                                            <tc><td style="">Minor</td></tc>
                                            <tc><td id="minorPlanned" style="">0/0</td></tc>
                                            <tc><td id="minorCompleted" style="">0/0</td></tc>
                                        </tr>
                                        <tr>
                                            <tc><td style="">Social Science</td></tc>
                                            <tc><td id="socPlanned" style="">0/0</td></tc>
                                            <tc><td id="socCompleted" style="">0/0</td></tc>
                                        </tr>
                                        <tr>
                                            <tc><td style="">Humanities</td></tc>
                                            <tc><td id="humPlanned" style="">0/0</td></tc>
                                            <tc><td id="humCompleted" style="">0/0</td></tc>
                                        </tr>
                                    </table>
                                </div>

                                <div class="col" style="border:solid;border-radius:5px;background-color:lightgray;">
                                    <table style="width:100%;margin:auto;">
                                        <tr style="font-weight:bold;">
                                            <tc><td>Credits</td></tc>
                                            <tc><td>Planned</td></tc>
                                            <tc><td>Completed</td></tc>
                                        </tr>
                                        <tr>
                                            <tc><td style="">1alpha00-1alpha99</td></tc>
                                            <tc><td id="1aPlanned" style="">0/0</td></tc>
                                            <tc><td id="1aCompleted" style="">0/0</td></tc>
                                        </tr>
                                        <tr>
                                            <tc><td style="">2alpha00-2alpha99</td></tc>
                                            <tc><td id="2aPlanned" style="">0/0</td></tc>
                                            <tc><td id="2aCompleted" style="">0/0</td></tc>
                                        </tr>
                                        <tr>
                                            <tc><td style="">3alpha00-3alpha99</td></tc>
                                            <tc><td id="3aPlanned" style="">0/0</td></tc>
                                            <tc><td id="3aCompleted" style="">0/0</td></tc>
                                        </tr>
                                        <tr>
                                            <tc><td style="">4alpha00-4alpha99</td></tc>
                                            <tc><td id="4aPlanned" style="">0/0</td></tc>
                                            <tc><td id="4aCompleted" style="">0/0</td></tc>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="container-fluid col-8">
                    <nav class="navbar navbar-expand-lg navbar-light bg-transparent">
                        <a class="navbar-brand">Course Scheduler</a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                            <div class="navbar-nav">
                                <form class="form-inline">
                                    <button type="button" class="btn btn-outline-primary add_year mr-2" onclick="addYear()">Add Year</button>
                                    <button type="button" class="btn btn-outline-secondary export" onclick="exportSchedule()">Export</button>
                                </form>
                            </div>
                        </div>
                    </nav>

                    <!--Bar: Course Planner-->
                    <!--<div class="row" style="margin-top: 10px">
                        <div class="col-8 cs_title">
                            Course Scheduler
                        </div>
                        <div class="col-2 cs_baritem">
                            <span>
                                Add year
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
                                </svg>
                            </span>
                        </div>
                        <div class="col-2 cs_baritem">
                            <span>
                                Export
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-share" viewBox="0 0 16 16">
                                    <path d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z" />
                                </svg>
                            </span>
                        </div>
                    </div> -->
                    <!--Course Planner-->
                    <div style="margin: 10px 0px; background-color: #E4F5FC; padding: 15px 0px;">
                        <div id="course_planner" style="overflow-x: auto; white-space: nowrap;">
                            <div class="col-6 col-sm-3 year_container" style="display: inline-block;">
                                <div class="row year mb-2">Year 1</div>
                                <div style="height: 100%;">
                                    <ul id="ul_year" class="ul_container ul_format" style="min-height: 30px;">
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">COSC 1P02</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">COSC 1P03</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">COSC 1P50</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">MATH 1P66</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">MATH 1P67</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">1 Humanities Context Credit</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">1 Social Science Context Credit</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">0.5 Elective Credits</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-6 col-sm-3 year_container" style="display: inline-block;">
                                <div class="row year mb-2">Year 2</div>
                                <div style="height: 100%; ">
                                    <ul class="ul_container ul_format" style="min-height: 30px;">
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">COSC 2P03</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">COSC 2P05</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">COSC 2P12</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">MATH 1P12</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">MATH 1P98</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">COSC 2P13</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">2 Elective Credits</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-6 col-sm-3 year_container" style="display: inline-block;">
                                <div class="row year mb-2">Year 3</div>
                                <div style="height: 100%;">
                                    <ul class="ul_container ul_format" style="min-height: 30px;">
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">COSC 3P03</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">COSC 3P32</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">COSC 3P71</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">MATH 1P05</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">MATH 1P06</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">1 COSC Credit</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">1.5 Elective Credits</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-6 col-sm-3 year_container" style="display: inline-block;">
                                <div class="row year mb-2">Year 4</div>
                                <div style="height: 100%;">
                                    <ul class="ul_container ul_format" style="min-height: 30px;">
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">COSC 4P01</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">COSC 4P02</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">COSC 4P61</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">2 COSC Credits</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                        <li class="row credit_box draggable" draggable="true" style="white-space: normal;">
                                            <div class="col-10">1.5 Elective Credits</div>
                                            <span class="col-1 remove_btn" onclick="remove(this)">x</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="container-fluid col-4 overflow-auto" style="background-color:darkseagreen">
                    <!--Course List-->
                    <input type="text" id="myInput" onkeyup="filterFunction()" placeholder="Search for courses..">
                    <ul id="myUL" style="overflow-y:scroll; max-height: 400px">
                        <li class="list-group-item draggable course_list" draggable="true">
                            <div>COSC 1P02</div>
                        </li>
                        <li class="list-group-item draggable course_list" draggable="true">
                            <div>COSC 1P03</div>
                        </li>
                        <li class="list-group-item draggable course_list" draggable="true">
                            <div>COSC 1P50</div>
                        </li>
                        <li class="list-group-item draggable course_list" draggable="true">
                            <div>COSC 2P03</div>
                        </li>
                        <li class="list-group-item draggable course_list" draggable="true">
                            <div>COSC 2P05 </div>
                        </li>
                        <li class="list-group-item draggable course_list" draggable="true">
                            <div>COSC 2P12</div>
                        </li>
                        <li class="list-group-item draggable course_list" draggable="true">
                            <div>COSC 2P13</div>
                        </li>
                        <li class="list-group-item draggable course_list" draggable="true">
                            <div>COSC 2P89</div>
                        </li>
                        <li class="list-group-item draggable course_list" draggable="true">
                            <div>COSC 2P95</div>
                        </li>
                        <li class="list-group-item draggable course_list" draggable="true">
                            <div>COSC 2P98</div>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="row">
                <div class="container-fluid" style="background-color:brown">
                    <button class="show-example-btn" aria-label="SuccessButton" onclick="alertMessage(0)">
                        Success Test
                    </button>
                    <button class="show-example-btn" aria-label="DangerButton" onclick="alertMessage(1)">
                        Danger Test
                    </button>
                    <button class="show-example-btn" aria-label="InfoButton" onclick="alertMessage(3)">
                        Info Test
                    </button>
                    <button class="show-example-btn" aria-label="WarningButton" onclick="alertMessage(2)">
                        Warning Test
                    </button>
                    <!--Error Box
                    <div class="alert alert-success alert-dismissible">
                        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                        <strong>Success!</strong> This alert box could indicate a successful or positive action.
                    </div>
                    <div class="alert alert-info alert-dismissible">
                        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                        <strong>Info!</strong> This alert box could indicate a neutral informative change or action.
                    </div>
                    <div class="alert alert-warning alert-dismissible">
                        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                        <strong>Warning!</strong> This alert box could indicate a warning that might need attention.
                    </div>
                    <div class="alert alert-danger alert-dismissible">
                        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                        <strong>Danger!</strong> This alert box could indicate a dangerous or potentially negative action.
                    </div>-->
                </div>
            </div>
        </main>
    </div>

</body>
<footer class="bg-light border-top footer">
    <p class="one small">
        <a href="https://brocku.ca/">Brock University Home</a>
        <a href="https://my.brocku.ca/Portal/Login.aspx?ReturnUrl=%2fportal%2fDefault.aspx">my.brocku.ca</a>
        <a href="https://www.brocku.ca/accessibility">Accessibility</a>
        <a href="https://lms.brocku.ca/access/content/group/Copyright_Info/access/copyright.html">Copying Guidelines</a>
        <a href="https://github.com/LYethon/COSC4P02Project/">Powered By Team Rocket</a>
    </p>
    <p class="small">
        Brock University | Niagara Region |
        <a href="https://brocku.ca/contact">1812 Sir Isaac Brock Way, St. Catharines, Ont., L2S 3A1 Canada</a>
    </p>
    <p class="small">
        <a href="tel://+19056885550">+1 905-688-5550</a>
    </p>
    <p class="small">
        Brock University is located on the traditional lands of the Haudenosaunee and Anishinaabe peoples and traditional shared hunting and gathering grounds of many nations.
    </p>
    <p class="small">
        © Brock University. Other content copyrighted as noted.
    </p>
    <p class="small">
        Powered by <big>Team Rocket</big>
    </p>
</footer>
<script>

    function alertMessage(num) {
        switch (num) {
            case 0:
                Swal.fire({
                    icon: 'success',
                    title: 'Success',
                    text: 'This alert box could indicate a successful or positive action!',
                });
                break;
            case 1:
                Swal.fire({
                    icon: 'error',
                    title: 'Error',
                    text: 'This alert box could indicate a dangerous or potentially negative action!',
                })
                break;
            case 2:
                Swal.fire({
                    icon: 'warning',
                    title: 'Warning',
                    text: 'This alert box could indicate a warning that might need attention!',
                })
                break;
            case 3:
                Swal.fire({
                    icon: 'info',
                    title: 'Info',
                    text: 'This alert box could indicate a neutral informative change or action!',
                })
                break;
            default:
                return;
        }
    }
</script>